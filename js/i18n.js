const translations = {
    en: {
        "nav-about": "About",
        "nav-projects": "Projects",
        "nav-skills": "Skills",
        "nav-contact": "Contact",
        "button-hire": "Hire Me",
        "button-cv": "Download CV",
        "hero-badge": "Available for new projects",
        "hero-title": "Building the Future of <span class='text-primary'>Mobile</span> Experiences.",
        "hero-desc": "Hi, I'm Aaron. I'm an expert Frontend Developer for websites and iOS and Android mobile apps, transforming complex ideas into fluid and intuitive applications. I specialize in Swift, Kotlin, and React Native.",
        "stats-projects": "5+ Projects Delivered",
        "stats-experience": "7 Years Experience",
        "stats-tech": "iOS, Android Native & React Native",
        "tech-stack": "Tech Stack",
        "mobile-menu-close": "Close Menu",
        "lang-toggle": "Espa침ol",
        // Proyectos
        "projects-title": "Featured Projects",
        "projects-desc": "A collection of mobile applications or websites designed with a focus on performance, user experience, and clean code. Swipe through the images to see more details.",
        "project-published": "Published",
        "project-in-progress": "In Progress",
        "view-github": "View on GitHub",
        "app-store": "App Store",
        "project-suscrito-title": "Management App: Suscrito",
        "project-suscrito-desc": "A native application designed to manage and track your monthly subscriptions. Offers payment reminders, expense analysis, and smart categorization to keep your finances under control.",
        "project-crolocha-title": "E-commerce: Crolocha",
        "project-crolocha-desc": "Complete e-commerce platform with smooth navigation and shopping cart management. Connected to a robust API for real-time inventory and order management.",
        "project-codebiz-title": "Business Manager: CodeBiz",
        "project-codebiz-desc": "A comprehensive solution for product and sales management on the go. Barcode scanning, real-time inventory management, and intuitive dashboards for admins and employees.",
        "project-madera-title": "Web: Madera al Detalle",
        "project-madera-desc": "Web portal offering custom furniture construction: integrated kitchens, closets, entry doors, bedroom doors, bookshelves, and shelves. Designed with a focus on user experience and attractive visual presentation.",
        "project-tableau-title": "Sales Analysis: Restaurant",
        "project-tableau-desc": "Detailed analysis of the causes behind a restaurant's sales decline from the start of operations in 2014 to 2015, with interactive visualizations revealing behavior patterns and areas for improvement.",
        "coming-soon": "Coming Soon",
        "view-progress": "Progress",
        "stores": "Stores",
        "footer-rights": "춸 2024 DevPortfolio. All rights reserved.",
        // Skills
        "skills-title": "Technical Skills",
        "skills-desc": "A complete toolset for creating high-performance native and cross-platform mobile experiences, backed by a solid understanding of backend and design.",
        "filter-all": "All",
        "filter-mobile": "Mobile",
        "filter-web": "Web",
        "filter-backend": "Backend",
        "filter-devops": "DevOps",
        "filter-design": "Design",
        "skill-years": "Years",
        "skill-advanced": "Advanced",
        "skill-intermediate": "Intermediate",
        "skill-prototyping": "Prototyping",
        "certifications-title": "Certifications and Courses",
        "view-credential": "View Credential",
        "tech-projects-btn": "See projects with these technologies",
        // Contact
        "contact-badge": "Available for hire",
        "contact-title": "Let's build something <span class='text-primary'>great.</span>",
        "contact-desc": "I am always open to discussing new mobile projects or websites, creative ideas, or opportunities to be part of your vision.",
        "contact-details": "Contact Details",
        "email": "Email",
        "phone": "Phone",
        "location": "Location",
        "follow-me": "Follow me",
        "mexico-city": "Mexico City",
        "remote-friendly": "Remote Friendly 游깴",
        "label-name": "Name",
        "label-email": "Email",
        "label-subject": "Subject (Optional)",
        "label-message": "Message",
        "placeholder-name": "Your Name",
        "placeholder-email": "your.email@example.com",
        "placeholder-message": "Tell me about your project...",
        "option-project": "Project Inquiry",
        "option-job": "Job Opportunity",
        "option-mentorship": "Mentorship",
        "option-other": "Other",
        "button-send": "Send Message",
        "button-sending": "Sending...",
        "toast-success-title": "Message Sent!",
        "toast-success-desc": "Thank you for reaching out. I'll get back to you soon.",
        "toast-error-title": "Oops!",
        "toast-error-desc": "Something went wrong. Please try again.",
        "privacy-policy": "Privacy Policy",
        "terms": "Terms of Service"
    },
    es: {
        "nav-about": "Sobre m칤",
        "nav-projects": "Proyectos",
        "nav-skills": "Habilidades",
        "nav-contact": "Contacto",
        "button-hire": "Contr치tame",
        "button-cv": "Descargar CV",
        "hero-badge": "Disponible para nuevos proyectos",
        "hero-title": "Construyendo el Futuro de las Experiencias <span class='text-primary'>M칩viles</span>.",
        "hero-desc": "Hola, soy Aaron. Un experto desarrollador Frontend de Sitios Web y aplicaciones mobiles para iOS y Android que convierte ideas complejas en aplicaciones fluidas e intuitivas. Especializado en Swift, Kotlin y React Native.",
        "stats-projects": "M치s de 5 proyectos entregados",
        "stats-experience": "7 a침os de experiencia",
        "stats-tech": "iOS, Android Native y React Native",
        "tech-stack": "Stack Tecnol칩gico",
        "mobile-menu-close": "Cerrar Men칰",
        "lang-toggle": "English",
        // Proyectos
        "projects-title": "Proyectos Destacados",
        "projects-desc": "Una colecci칩n de aplicaciones m칩viles y sitios web dise침adas con enfoque en rendimiento, experiencia de usuario y c칩digo limpio. Desliza en las im치genes para ver m치s detalles.",
        "project-published": "Publicada",
        "project-in-progress": "En Proceso",
        "view-github": "Ver en GitHub",
        "play-store": "Play Store",
        "app-store": "App Store",
        "project-suscrito-title": "App de Gesti칩n: Suscrito",
        "project-suscrito-desc": "Una aplicaci칩n nativa dise침ada para gestionar y trackear tus suscripciones mensuales. Ofrece recordatorios de pago, an치lisis de gastos y categorizaci칩n inteligente para mantener tus finanzas bajo control.",
        "project-crolocha-title": "E-commerce: Crolocha",
        "project-crolocha-desc": "Plataforma de comercio electr칩nico completa con navegaci칩n fluida y gesti칩n de carrito de compras. Conectada a una API robusta para manejo de inventario y pedidos en tiempo real.",
        "project-codebiz-title": "Gestor Comercial: CodeBiz",
        "project-codebiz-desc": "Una soluci칩n integral para la gesti칩n de productos y ventas en movilidad. Escaneo de c칩digos de barras, gesti칩n de inventario en tiempo real y paneles de control intuitivos para administradores y empleados.",
        "project-madera-title": "Web: Madera al Detalle",
        "project-madera-desc": "Portal web para ofrecer construcci칩n de muebles a la medida: cocinas integrales, closets, puertas de entrada, puertas de rec치mara, libreros y repisas. Dise침ado con enfoque en la experiencia del usuario y presentaci칩n visual atractiva.",
        "project-tableau-title": "An치lisis de Ventas: Restaurante",
        "project-tableau-desc": "An치lisis detallado de las causas por las cuales un restaurante experiment칩 una ca칤da en ventas desde el inicio de operaciones en 2014 hasta 2015, con visualizaciones interactivas que revelan patrones de comportamiento y 치reas de mejora.",
        "coming-soon": "Pr칩ximamente",
        "view-progress": "Avance",

        "stores": "Tiendas",
        "footer-rights": "춸 2024 DevPortfolio. Todos los derechos reservados.",
        // Skills
        "skills-title": "Habilidades T칠cnicas",
        "skills-desc": "Un conjunto de herramientas completo para crear experiencias m칩viles nativas y multiplataforma de alto rendimiento, respaldado por una s칩lida comprensi칩n del backend y el dise침o.",
        "filter-all": "Todas",
        "filter-mobile": "M칩vil",
        "filter-backend": "Web",
        "filter-backend": "Backend",
        "filter-devops": "DevOps",
        "filter-design": "Dise침o",
        "skill-years": "A침os",
        "skill-advanced": "Avanzado",
        "skill-intermediate": "Intermedio",
        "skill-prototyping": "Prototipado",
        "certifications-title": "Certificaciones y Cursos",
        "view-credential": "Ver Credencial",
        "tech-projects-btn": "Ver proyectos con estas tecnolog칤as",
        // Contact
        "contact-badge": "Disponible para contrataci칩n",
        "contact-title": "Construyamos algo <span class='text-primary'>grande.</span>",
        "contact-desc": "Siempre estoy abierto a discutir nuevos proyectos m칩viles o sitios web, ideas creativas u oportunidades para ser parte de tu visi칩n.",
        "contact-details": "Detalles de Contacto",
        "email": "Correo",
        "phone": "Tel칠fono",
        "location": "Ubicaci칩n",
        "follow-me": "S칤gueme",
        "mexico-city": "Ciudad de M칠xico",
        "remote-friendly": "Remoto amigable 游깴",
        "label-name": "Nombre",
        "label-email": "Correo",
        "label-subject": "Asunto (Opcional)",
        "label-message": "Mensaje",
        "placeholder-name": "Tu Nombre",
        "placeholder-email": "tu.correo@ejemplo.com",
        "placeholder-message": "Cu칠ntame sobre tu proyecto...",
        "option-project": "Consulta de Proyecto",
        "option-job": "Oportunidad Laboral",
        "option-mentorship": "Mentor칤a",
        "option-other": "Otro",
        "button-send": "Enviar Mensaje",
        "button-sending": "Enviando...",
        "toast-success-title": "춰Mensaje Enviado!",
        "toast-success-desc": "Gracias por contactarme. Te responder칠 pronto.",
        "toast-error-title": "춰Ups!",
        "toast-error-desc": "Algo sali칩 mal. Por favor intenta de nuevo.",
        "privacy-policy": "Pol칤tica de Privacidad",
        "terms": "T칠rminos de Servicio"
    }
};

class I18n {
    constructor() {
        this.lang = localStorage.getItem('portfolio-lang') || (navigator.language.startsWith('es') ? 'es' : 'en');
        this.applyLanguage();
    }

    setLanguage(lang) {
        this.lang = lang;
        localStorage.setItem('portfolio-lang', lang);
        this.applyLanguage();
    }

    applyLanguage() {
        document.documentElement.lang = this.lang;
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[this.lang][key]) {
                const content = translations[this.lang][key];

                // Handle different types of elements
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    if (el.hasAttribute('placeholder')) {
                        el.placeholder = content;
                    }
                } else if (el.tagName === 'SELECT') {
                    // Specific logic for select options if needed
                } else {
                    el.innerHTML = content;
                }
            }
        });

        // Update language toggle text
        const toggleBtn = document.getElementById('langToggleText');
        if (toggleBtn) {
            toggleBtn.textContent = translations[this.lang]['lang-toggle'];
        }
    }

    toggleLanguage() {
        this.setLanguage(this.lang === 'en' ? 'es' : 'en');
    }
}

// Global instance
window.i18n = new I18n();

document.addEventListener('DOMContentLoaded', () => {
    // Re-apply language on load to ensure all dynamic content is translated
    window.i18n.applyLanguage();

    // Bind toggle buttons
    const toggleBtns = document.querySelectorAll('.lang-toggle-btn');
    toggleBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.preventDefault();
            window.i18n.toggleLanguage();
        });
    });
});
